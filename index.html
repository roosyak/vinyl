<!DOCTYPE html>
<html lang="ru">

<head>
	<title>Виниловые пластинки Апатиты Кировск</title>
	<script src="https://unpkg.com/vue"></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="favicon.ico" />
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<div id="app">
		<div v-for="x in vinyls">
			<div class="item">
				<div class="clear" :class="x.checked">
					<div class="img">
						<label>
							<input type="checkbox">
							<img :src="x.thumb">
						</label>
						<div class="prs">
							<font class="rub">{{ x.folder }}</font>
						</div>
					</div>
					<div class="info">
						<p><a :href="x.uri" target="_blank">{{ x.artist }} &mdash; {{ x.title }}</a></p>
						{{ x.released > 0 ? x.released + ' г.' : ''}}
						<i :itle="x.country">{{x.labels[0].name}}</i>
						<p class="genres">
							<font v-for="g in x.genres">{{g}}</font>
							<font v-for="s in x.styles">{{s}}</font>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		var app = new Vue({
			el: '#app',
			data: {
				vinyls: []
			},
			created() {
				fetch('collection.json')
					.then(response => response.json())
					.then(json => {
						this.vinyls = json;
						this.vinyls.forEach(e => {
							e.released = +e.released;
							e.folder = e.notes ? +e.notes : +e.folder;
							e.checked = false;
						})
					})
			}
		})
	</script>
</body>

</html>